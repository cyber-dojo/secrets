secret-name: GPG_PRIVATE_KEY
secret-expire: never
is-secret: true

secret-updated: 2025-08-08
secret-updated-by: JJ
secret-type: gh-repo
secret-usage: Used to have a signed git commit for helm chart.

Used together with GPG_PASSPHRASE and the committer name+email in the
'Create Pull Request' job in helm-chart.yml

update-instructions:
Instructions taken from here:
  https://github.com/crazy-max/ghaction-import-gpg?tab=readme-ov-file#prerequisites

# macOS
gpg --armor --export-secret-key $(git config user.email) | pbcopy

# Ubuntu
# Run this command and give a passphrase when asked. Remember the passphrase
gpg --armor --export-secret-key $(git config user.email) -w0 | xclip -sel clip


When you run this command you may be asked for your PassPhrase. You need to remember this.

Go to https://github.com/kosli-dev/cli/settings/secrets/actions/GPG_PASSPHRASE
  Enter the passphrase

Go to https://github.com/kosli-dev/cli/settings/secrets/actions/GPG_PRIVATE_KEY
  Enter the generated private key (in your paste-buffer)

Also, update the committer: in .github/workflows/helm-chart.yml in the cli repo.
See:
      - name: Create Pull Request
        uses: peter-evans/create-pull-request@v6
        with:
          token: ${{ secrets.COMMITTER_TOKEN }}
          committer: Jon Jagger <jon@kosli.com>   <<<<<<<<<<<<<<<<<<<<<<<<<<<
          commit-message: 'Update helm docs'
